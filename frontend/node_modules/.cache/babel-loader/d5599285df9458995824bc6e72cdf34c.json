{"remainingRequest":"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/babel-loader/lib/index.js!/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/echo_logic/Desktop/projects/MaorBarel/frontend/src/services/Msg.service.js","dependencies":[{"path":"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/src/services/Msg.service.js","mtime":1554581153792},{"path":"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Date$now from \"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/@babel/runtime-corejs2/core-js/date/now\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/echo_logic/Desktop/projects/MaorBarel/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport Axios from 'axios';\nvar axios = Axios.create({\n  withCredentials: true\n});\n\nvar _URL = process.env.NODE_ENV !== 'development' ? '/msgs/' : 'http://localhost:3000/msgs/';\n\nexport default {\n  remove: remove,\n  addMsg: addMsg,\n  query: query\n};\n\nfunction query(_x) {\n  return _query.apply(this, arguments);\n}\n\nfunction _query() {\n  _query = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(filter) {\n    var query, msgs;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (filter) query = '?filter=' + filter;else query = '';\n            _context.next = 3;\n            return axios.get(\"\".concat(_URL).concat(query));\n\n          case 3:\n            msgs = _context.sent;\n            return _context.abrupt(\"return\", msgs.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _query.apply(this, arguments);\n}\n\nfunction addMsg(_x2) {\n  return _addMsg.apply(this, arguments);\n}\n\nfunction _addMsg() {\n  _addMsg = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(msg) {\n    var randomInt, addedMsg;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            randomInt = Math.floor(Math.random() * 50);\n            msg.img = \"https://randomuser.me/api/portraits/men/\".concat(randomInt, \".jpg\");\n            msg.createdAt = _Date$now();\n            _context2.next = 5;\n            return axios.post(\"\".concat(_URL), msg);\n\n          case 5:\n            addedMsg = _context2.sent;\n            return _context2.abrupt(\"return\", addedMsg);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _addMsg.apply(this, arguments);\n}\n\nfunction remove(_x3) {\n  return _remove.apply(this, arguments);\n}\n\nfunction _remove() {\n  _remove = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee3(msgId) {\n    var deletedMsg;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.delete(\"\".concat(_URL).concat(msgId));\n\n          case 2:\n            deletedMsg = _context3.sent;\n            return _context3.abrupt(\"return\", deletedMsg);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _remove.apply(this, arguments);\n}",{"version":3,"sources":["/Users/echo_logic/Desktop/projects/MaorBarel/frontend/src/services/Msg.service.js"],"names":["Axios","axios","create","withCredentials","_URL","process","env","NODE_ENV","remove","addMsg","query","filter","get","msgs","data","msg","randomInt","Math","floor","random","img","createdAt","post","addedMsg","msgId","delete","deletedMsg"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,eAAe,EAAE;AADM,CAAb,CAAd;;AAIA,IAAMC,IAAI,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA1B,GACP,QADO,GAEP,6BAFN;;AAIA,eAAe;AACXC,EAAAA,MAAM,EAANA,MADW;AAEXC,EAAAA,MAAM,EAANA,MAFW;AAGXC,EAAAA,KAAK,EAALA;AAHW,CAAf;;SAMeA,K;;;;;;;0BAAf,iBAAqBC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEI,gBAAGA,MAAH,EAAWD,KAAK,GAAG,aAAaC,MAArB,CAAX,KACKD,KAAK,GAAG,EAAR;AAHT;AAAA,mBAKuBT,KAAK,CAACW,GAAN,WAAaR,IAAb,SAAoBM,KAApB,EALvB;;AAAA;AAKUG,YAAAA,IALV;AAAA,6CAMWA,IAAI,CAACC,IANhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SASeL,M;;;;;;;0BAAf,kBAAsBM,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,SADR,GACoBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CADpB;AAEIJ,YAAAA,GAAG,CAACK,GAAJ,qDAAqDJ,SAArD;AACAD,YAAAA,GAAG,CAACM,SAAJ,GAAgB,WAAhB;AAHJ;AAAA,mBAK2BpB,KAAK,CAACqB,IAAN,WAAclB,IAAd,GAAqBW,GAArB,CAL3B;;AAAA;AAKUQ,YAAAA,QALV;AAAA,8CAMWA,QANX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAQef,M;;;;;;;0BAAf,kBAAsBgB,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC2BvB,KAAK,CAACwB,MAAN,WAAgBrB,IAAhB,SAAuBoB,KAAvB,EAD3B;;AAAA;AACQE,YAAAA,UADR;AAAA,8CAEWA,UAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Axios from 'axios';\n\nconst axios = Axios.create({\n    withCredentials: true\n})\n\nconst _URL = (process.env.NODE_ENV !== 'development')\n    ? '/msgs/'\n    : 'http://localhost:3000/msgs/';\n\nexport default {\n    remove,\n    addMsg,\n    query\n}\n\nasync function query(filter){\n    let query\n    if(filter) query = '?filter=' + filter\n    else query = ''\n\n    const msgs = await axios.get(`${_URL}${query}`)\n    return msgs.data\n}\n\nasync function addMsg(msg){\n    var randomInt = Math.floor(Math.random() * 50)\n    msg.img = `https://randomuser.me/api/portraits/men/${randomInt}.jpg`\n    msg.createdAt = Date.now()\n    \n    const addedMsg = await axios.post(`${_URL}`,msg)\n    return addedMsg\n}\nasync function remove(msgId){\n    var deletedMsg = await axios.delete(`${_URL}${msgId}`)\n    return deletedMsg\n}\n\n"]}]}